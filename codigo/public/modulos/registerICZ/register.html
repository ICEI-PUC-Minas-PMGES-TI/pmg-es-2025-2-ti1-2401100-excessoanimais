<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Instituições de Controle de Zoonoses</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <h1>Cadastro de Instituições de Controle de Zoonoses</h1>

        <form class="formulario" id="formulario">
            <div class="linha">
                <div class="campo">
                    <label>Nome do órgão</label>
                    <input type="text" id="orgao" required>
                </div>

                <div class="campo">
                    <label>CNPJ do Órgão</label>
                    <input type="text" id="cnpj" placeholder="00.000.000/0001-00">
                </div>
            </div>

            <div class="linha">
                <div class="campo">
                    <label>Email institucional</label>
                    <input type="email" id="email">
                </div>

                <div class="campo">
                    <label>Telefone</label>
                    <input type="tel" id="telefone" placeholder="(00) 90000-0000">
                </div>
            </div>

            <div class="campo">
                <label>Área de Cobertura</label>
                <input type="text" id="area">
            </div>

            <div class="botoes">
                <button type="button" class="inserir" id="btnInserir">Inserir</button>
                <button type="button" class="alterar" id="btnAlterar">Alterar</button>
                <button type="button" class="excluir" id="btnExcluir">Excluir</button>
                <button type="button" class="limpar" id="btnLimpar">Limpar</button>
            </div>
        </form>

        <table id="tabela">
            <thead>
                <tr>
                    <th>Nome do órgão</th>
                    <th>Telefone</th>
                    <th>CNPJ</th>
                    <th>Área</th>
                    <th>Email</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Centro de Controle de Zoonoses</td>
                    <td>(31) 3221-4567</td>
                    <td>91.587.653/0001-74</td>
                    <td>Savassi</td>
                    <td>ctzoonoses.bh@gmail.com</td>
                </tr>
            </tbody>
        </table>
    </div>

    <script>
        const tabela = document.querySelector("#tabela tbody");
        const orgao = document.getElementById("orgao");
        const cnpj = document.getElementById("cnpj");
        const email = document.getElementById("email");
        const telefone = document.getElementById("telefone");
        const area = document.getElementById("area");

        const btnInserir = document.getElementById("btnInserir");
        const btnAlterar = document.getElementById("btnAlterar");
        const btnExcluir = document.getElementById("btnExcluir");
        const btnLimpar = document.getElementById("btnLimpar");

        let linhaSelecionada = null;

        // Inserir novo registro
        btnInserir.onclick = () => {
            if (!orgao.value) {
                alert("Por favor, insira o nome do órgão.");
                return;
            }

            const novaLinha = tabela.insertRow();
            novaLinha.insertCell(0).textContent = orgao.value;
            novaLinha.insertCell(1).textContent = telefone.value;
            novaLinha.insertCell(2).textContent = cnpj.value;
            novaLinha.insertCell(3).textContent = area.value;
            novaLinha.insertCell(4).textContent = email.value;

            limparCampos();
            adicionarEventoSelecao();
        };

        // Alterar linha selecionada
        btnAlterar.onclick = () => {
            if (!linhaSelecionada) {
                alert("Selecione uma linha para alterar.");
                return;
            }

            linhaSelecionada.cells[0].textContent = orgao.value;
            linhaSelecionada.cells[1].textContent = telefone.value;
            linhaSelecionada.cells[2].textContent = cnpj.value;
            linhaSelecionada.cells[3].textContent = area.value;
            linhaSelecionada.cells[4].textContent = email.value;

            limparCampos();
            linhaSelecionada.classList.remove("selected");
            linhaSelecionada = null;
        };

        // Excluir linha selecionada
        btnExcluir.onclick = () => {
            if (!linhaSelecionada) {
                alert("Selecione uma linha para excluir.");
                return;
            }
            linhaSelecionada.remove();
            limparCampos();
            linhaSelecionada = null;
        };

        // Limpar campos
        btnLimpar.onclick = () => {
            limparCampos();
            if (linhaSelecionada) linhaSelecionada.classList.remove("selected");
            linhaSelecionada = null;
        };

        // Função para limpar inputs
        function limparCampos() {
            orgao.value = "";
            cnpj.value = "";
            email.value = "";
            telefone.value = "";
            area.value = "";
        }

        // Permitir clicar na linha para editar
        function adicionarEventoSelecao() {
            document.querySelectorAll("#tabela tbody tr").forEach(linha => {
                linha.onclick = () => {
                    if (linhaSelecionada) linhaSelecionada.classList.remove("selected");
                    linhaSelecionada = linha;
                    linha.classList.add("selected");

                    orgao.value = linha.cells[0].textContent;
                    telefone.value = linha.cells[1].textContent;
                    cnpj.value = linha.cells[2].textContent;
                    area.value = linha.cells[3].textContent;
                    email.value = linha.cells[4].textContent;
                };
            });
        }

        adicionarEventoSelecao(); // Inicializa para a linha existente
    </script>
</body>

</html>